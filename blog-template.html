<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{TITLE}} | fanaticalnerd</title>
    <meta name="author" content="{{AUTHOR}}">
    <meta name="description" content="{{DESCRIPTION}}">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{TITLE}}">
    <meta property="og:description" content="{{DESCRIPTION}}">
    <meta property="og:image" content="{{THUMBNAIL}}">
    <meta property="og:url" content="{{URL}}">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="fanaticalnerd">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{TITLE}}">
    <meta name="twitter:description" content="{{DESCRIPTION}}">
    <meta name="twitter:image" content="{{THUMBNAIL}}">
    <meta name="twitter:creator" content="@fanaticalnerd">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="/favicon_io/site.webmanifest">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700;800&display=swap');
        
        body {
            font-family: 'JetBrains+Mono', monospace;
            background-color: #050505;
            color: #dddddd;
            margin: 0;
            overflow-x: hidden;
        }

        .scanline {
            width: 100%;
            height: 2px;
            background: #dc2626;
            opacity: 0.1;
            position: fixed;
            z-index: 50;
            pointer-events: none;
            animation: scan 8s linear infinite;
        }

        @keyframes scan {
            0% { top: -10%; }
            100% { top: 110%; }
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #dc2626;
        }

        /* Nav Entrance Animation */
        @keyframes nav-slide-up {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-nav-item {
            animation: nav-slide-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        /* Tactical Container */
        .tactical-panel {
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid #1f2937;
            backdrop-filter: blur(20px);
        }

        /* Blog content internal styling */
        #blog-content {
            line-height: 1.8;
            font-weight: 300;
        }

        #blog-content h1 {
            color: #ffffff;
            font-size: 2em;
            font-weight: 800;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            letter-spacing: -0.05em;
            text-transform: uppercase;
        }

        #blog-content h2 {
            color: #dc2626;
            font-size: 1.5em;
            font-weight: 700;
            margin-top: 2em;
            margin-bottom: 0.8em;
            border-left: 4px solid #dc2626;
            padding-left: 0.5em;
        }

        #blog-content h3 {
            color: #9ca3af;
            font-size: 1.2em;
            font-weight: 700;
            margin-top: 1.5em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        #blog-content p {
            margin: 1.2em 0;
            color: #d1d5db;
        }

        #blog-content a {
            color: #dc2626;
            text-decoration: underline;
            text-underline-offset: 4px;
            transition: color 0.2s;
        }

        #blog-content a:hover {
            color: #ffffff;
        }

        #blog-content code {
            background-color: #1a1b1e;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            color: #fb7185;
            font-family: inherit;
            font-size: 0.9em;
        }

        #blog-content pre {
            background-color: #0c0d0e;
            padding: 1.5em;
            border-radius: 4px;
            overflow-x: auto;
            border: 1px solid #1f2937;
            margin: 2em 0;
        }

        #blog-content pre code {
            background-color: transparent;
            padding: 0;
            color: #e5e7eb;
        }

        #blog-content blockquote {
            border-left: 4px solid #4b5563;
            padding: 1em 1.5em;
            margin: 2em 0;
            background: rgba(31, 41, 55, 0.3);
            color: #9ca3af;
            font-style: italic;
        }

        #blog-content ul, #blog-content ol {
            margin: 1.5em 0;
            padding-left: 1.5em;
        }

        #blog-content li {
            margin: 0.6em 0;
            list-style-type: square;
        }

        #blog-content img {
            max-width: 100%;
            height: auto;
            border: 1px solid #374151;
            border-radius: 2px;
            margin: 2.5em 0;
            filter: grayscale(20%) contrast(110%);
        }

        #blog-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 2em 0;
            font-size: 0.9em;
        }

        #blog-content th, #blog-content td {
            border: 1px solid #374151;
            padding: 1em;
            text-align: left;
        }

        #blog-content th {
            background-color: #111827;
            color: #ffffff;
            text-transform: uppercase;
            font-size: 0.8em;
            letter-spacing: 0.1em;
        }

        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
    </style>
</head>
<body class="custom-scrollbar">
    <div class="scanline"></div>
    
    <!-- Background Glow -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden">
        <div class="absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-red-600/5 blur-[120px] rounded-full"></div>
        <div class="absolute bottom-[-5%] right-[-5%] w-[40%] h-[40%] bg-slate-800/10 blur-[100px] rounded-full"></div>
    </div>

    <main class="max-w-4xl mx-auto relative z-10 p-6 md:p-12 mb-32 mt-12 tactical-panel rounded-md shadow-2xl">
        
        <!-- Tactical Breadcrumb -->
        <a href="../blogs.html" class="flex items-center gap-2 text-[10px] font-black tracking-[0.2em] text-zinc-500 hover:text-red-600 transition-all bg-zinc-900/30 px-4 py-2 border border-zinc-800 hover:border-red-600/40 w-max mb-12 uppercase group">
            <i data-lucide="arrow-left" class="group-hover:-translate-x-1 transition-transform" style="width: 14px; height: 14px;"></i> BACK TO ARCHIVE
        </a>
        
        <!-- Post Header -->
        <header class="mb-12 border-b border-zinc-900 pb-12">
            <div id="blog-meta" class="mb-6 flex flex-wrap gap-6 text-[10px] font-bold text-zinc-500 uppercase tracking-widest">
                <span class="flex items-center gap-2">
                    <i data-lucide="calendar" style="width: 12px;"></i> {{DATE}}
                </span>
                <span class="flex items-center gap-2">
                    <i data-lucide="user" style="width: 12px;"></i> BY {{AUTHOR}}
                </span>
                <span class="text-red-900 font-black">{{AI_GENERATED}}</span>
            </div>
            <!-- Title will be injected here by script -->
            <div id="post-title-mount"></div>
        </header>

        <!-- Content Area -->
        <article id="blog-content" class="animate-fade-in">
            <div class="flex flex-col items-center justify-center py-20 text-zinc-700 font-mono text-xs tracking-widest uppercase">
                <div class="loading-pulse mb-4">Establishing_Data_Link...</div>
                <div class="w-48 h-px bg-zinc-900 overflow-hidden">
                    <div class="h-full bg-red-600 w-1/3 animate-[loading_2s_infinite_linear]"></div>
                </div>
            </div>
        </article>

        <!-- Post Footer -->
        <footer class="mt-20 pt-10 border-t border-zinc-900">
            <div class="flex flex-col items-center gap-6 opacity-40">
                <div class="text-[9px] font-bold tracking-[0.6em] uppercase">
                    # h4ppy_h4cking | rishabhyadav.inbox@gmail.com
                </div>
            </div>
        </footer>
    </main>

    <!-- Bottom Automations Nav -->
    <div id="bottom-nav" class="fixed bottom-0 left-0 w-full z-[100] flex flex-col items-center">
        <nav id="nav-menu" class="w-full max-w-5xl bg-[#0a0a0a] border border-red-600/30 border-b-0 rounded-t-[2rem] hidden flex flex-wrap justify-evenly items-center p-10 gap-4 shadow-2xl">
            <!-- Nav links -->
            <a href="/index.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-red-600 hover:bg-red-600/5 transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 0ms;">
                <i data-lucide="home" class="text-zinc-600 group-hover:text-red-600" style="width: 14px;"></i> HOME
            </a>
            <a href="/jobs.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-red-600 hover:bg-red-600/5 transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 50ms;">
                <i data-lucide="activity" class="text-zinc-600 group-hover:text-red-600" style="width: 14px;"></i> JOBS
            </a>
            <a href="/intel.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-red-600 hover:bg-red-600/5 transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 100ms;">
                <i data-lucide="radar" class="text-zinc-600 group-hover:text-red-600" style="width: 14px;"></i> INTEL
            </a>
            <a href="/blogs.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 border-red-600/50 bg-red-600/5 text-white transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 150ms;">
                <i data-lucide="book-open" class="text-red-600" style="width: 14px;"></i> BLOGS
            </a>
            <a href="/Disclosed-Reports/reports_index.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-red-600 hover:bg-red-600/5 transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 200ms;">
                <i data-lucide="file-text" class="text-zinc-600 group-hover:text-red-600" style="width: 14px;"></i> REPORTS
            </a>
            <a href="/journal.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-red-600 hover:bg-red-600/5 transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 250ms;">
                <i data-lucide="book" class="text-zinc-600 group-hover:text-red-600" style="width: 14px;"></i> JOURNAL
            </a>
            <a href="/private.html" class="animate-nav-item opacity-0 flex items-center gap-3 px-6 py-4 rounded-xl bg-zinc-900 border border-zinc-800 hover:border-red-600 hover:bg-red-600/5 transition-all group font-black text-[10px] uppercase tracking-widest hover:scale-105 active:scale-95" style="animation-delay: 300ms;">
                <i data-lucide="lock" class="text-zinc-600 group-hover:text-red-600" style="width: 14px;"></i> PRIVATE
            </a>
        </nav>

        <div id="nav-trigger" class="w-full py-5 text-center font-black tracking-[0.8em] text-[10px] transition-all duration-700 cursor-pointer bg-red-600 text-white shadow-lg">
            AUTOMATIONS [^]
        </div>
    </div>

    <!-- Keyframe for loader bar -->
    <style>
        @keyframes loading {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(300%); }
        }
    </style>

    <!-- Marked Library for MD rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <script>
    const blogFolder = '{{FOLDER}}';

    async function loadBlogPost() {
        const contentDiv = document.getElementById('blog-content');
        const titleMount = document.getElementById('post-title-mount');

        if (!blogFolder || blogFolder === '{{FOLDER' + '}}') {
            contentDiv.innerHTML = '<div class="text-red-600 font-mono text-xs uppercase tracking-widest text-center py-20 border border-dashed border-red-900/30">Error: No blog source specified in template.</div>';
            return;
        }

        try {
            const response = await fetch(`../BLOGS/${blogFolder}/blog.md`);

            if (!response.ok) {
                throw new Error('Blog post not found');
            }

            const markdown = await response.text();

            marked.setOptions({
                breaks: true,
                gfm: true
            });

            let html = marked.parse(markdown);

            // Remap image paths
            html = html.replace(
                /src="(?!http)([^"]+)"/g,
                `src="../BLOGS/${blogFolder}/src/$1"`
            );
            html = html.replace(
                /src='(?!http)([^']+)'/g,
                `src='../BLOGS/${blogFolder}/src/$1'`
            );

            contentDiv.innerHTML = html;

            // Extract H1 for tactical title styling
            const firstH1 = contentDiv.querySelector('h1');
            if (firstH1) {
                titleMount.innerHTML = `<h1 class="text-white text-4xl md:text-6xl font-black tracking-tighter uppercase leading-none">${firstH1.textContent}</h1>`;
                firstH1.remove();
            }

        } catch (error) {
            console.error('Error loading blog post:', error);
            contentDiv.innerHTML = '<div class="text-red-600 font-mono text-xs uppercase tracking-widest text-center py-20 border border-dashed border-red-900/30">Error: Could not retrieve data packet. Check connectivity.</div>';
        }
    }
    
    document.addEventListener('DOMContentLoaded', () => {
        loadBlogPost();
        lucide.createIcons();

        const bottomNavContainer = document.getElementById('bottom-nav');
        const navMenu = document.getElementById('nav-menu');
        const navTrigger = document.getElementById('nav-trigger');
        let isMenuOpen = false;
        
        const toggleMenu = (open) => {
            isMenuOpen = open;
            if (isMenuOpen) {
                navMenu.style.display = 'flex';
                navTrigger.classList.add('bg-white', 'text-black');
                navTrigger.classList.remove('bg-red-600', 'text-white');
            } else {
                navMenu.style.display = 'none';
                navTrigger.classList.remove('bg-white', 'text-black');
                navTrigger.classList.add('bg-red-600', 'text-white');
            }
        };

        bottomNavContainer.addEventListener('mouseenter', () => toggleMenu(true));
        bottomNavContainer.addEventListener('mouseleave', () => toggleMenu(false));
    });
    </script>
</body>
</html>